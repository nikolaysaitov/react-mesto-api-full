{"ast":null,"code":"// export const BASE_URL = 'http://saitovkmsapi.nomoredomains.xyz/';\nexport let BASE_URL = '';\nconst {\n  NODE_ENV\n} = process.env;\n\nif (NODE_ENV === 'production') {\n  BASE_URL = 'https://saitovkmsapi.nomoredomains.xyz/';\n} else {\n  BASE_URL = 'http://localhost:3000';\n}\n\nfunction checkResponse(res) {\n  if (res.ok) {\n    return res.json();\n  }\n\n  return Promise.reject(res.status);\n}\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      \"email\": email,\n      \"password\": password\n    })\n  }).then(checkResponse);\n};\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      \"email\": email,\n      \"password\": password\n    })\n  }).then(checkResponse);\n};\nexport const checkToken = () => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${localStorage.getItem('jwt')}`\n    }\n  }).then(checkResponse);\n};","map":{"version":3,"sources":["/Users/nikolay/Desktop/react-mesto-api-full/frontend/src/utils/auth.js"],"names":["BASE_URL","NODE_ENV","process","env","checkResponse","res","ok","json","Promise","reject","status","register","email","password","fetch","method","headers","body","JSON","stringify","then","authorize","checkToken","localStorage","getItem"],"mappings":"AAAA;AAEA,OAAO,IAAIA,QAAQ,GAAG,EAAf;AACP,MAAM;AAAEC,EAAAA;AAAF,IAAeC,OAAO,CAACC,GAA7B;;AACA,IAAKF,QAAQ,KAAK,YAAlB,EAAiC;AAC7BD,EAAAA,QAAQ,GAAG,yCAAX;AACH,CAFD,MAEO;AACHA,EAAAA,QAAQ,GAAG,uBAAX;AACH;;AAKD,SAASI,aAAT,CAAuBC,GAAvB,EAA4B;AACxB,MAAIA,GAAG,CAACC,EAAR,EAAY;AACR,WAAOD,GAAG,CAACE,IAAJ,EAAP;AACH;;AACD,SAAOC,OAAO,CAACC,MAAR,CAAeJ,GAAG,CAACK,MAAnB,CAAP;AACH;;AAED,OAAO,MAAMC,QAAQ,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AACzC,SAAOC,KAAK,CAAE,GAAEd,QAAS,SAAb,EAAuB;AAC/Be,IAAAA,MAAM,EAAE,MADuB;AAE/BC,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB;AAFX,KAFsB;AAM/BC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjB,eAASP,KADQ;AAEjB,kBAAYC;AAFK,KAAf;AANyB,GAAvB,CAAL,CAUJO,IAVI,CAUChB,aAVD,CAAP;AAWH,CAZM;AAcP,OAAO,MAAMiB,SAAS,GAAG,CAACT,KAAD,EAAQC,QAAR,KAAqB;AAC1C,SAAOC,KAAK,CAAE,GAAEd,QAAS,SAAb,EAAuB;AAC/Be,IAAAA,MAAM,EAAE,MADuB;AAE/BC,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB;AAFX,KAFsB;AAM/BC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjB,eAASP,KADQ;AAEjB,kBAAYC;AAFK,KAAf;AANyB,GAAvB,CAAL,CAUJO,IAVI,CAUChB,aAVD,CAAP;AAWH,CAZM;AAcP,OAAO,MAAMkB,UAAU,GAAG,MAAM;AAC5B,SAAOR,KAAK,CAAE,GAAEd,QAAS,WAAb,EAAyB;AACjCe,IAAAA,MAAM,EAAE,KADyB;AAEjCC,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB,kBAFX;AAGL,uBAAkB,UAASO,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA4B;AAHlD;AAFwB,GAAzB,CAAL,CAQNJ,IARM,CAQDhB,aARC,CAAP;AASH,CAVM","sourcesContent":["// export const BASE_URL = 'http://saitovkmsapi.nomoredomains.xyz/';\n\nexport let BASE_URL = '';\nconst { NODE_ENV } = process.env;\nif ( NODE_ENV === 'production' ) {\n    BASE_URL = 'https://saitovkmsapi.nomoredomains.xyz/';\n} else {\n    BASE_URL = 'http://localhost:3000'\n}\n\n\n\n   \nfunction checkResponse(res) {\n    if (res.ok) {\n        return res.json();\n    }\n    return Promise.reject(res.status);\n}\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            \"email\": email,\n            \"password\": password\n        })\n    }).then(checkResponse);\n};\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            \"email\": email,\n            \"password\": password\n        })\n    }).then(checkResponse);\n};\n\nexport const checkToken = () => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n        }\n    })\n    .then(checkResponse);\n}"]},"metadata":{},"sourceType":"module"}